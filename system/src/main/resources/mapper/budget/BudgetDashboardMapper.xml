<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--
      mapper为映射的根节点，用来管理DAO接口
      namespace指定DAO接口的完整类名，表示mapper配置文件管理哪个DAO接口(包.接口名)
      mybatis会依据这个接口动态创建一个实现类去实现这个接口，而这个实现类是一个Mapper对象
   -->
<mapper namespace="net.cmkj.budget.mapper.BudgetDashboardMapper">

    <select id="getYgcb" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Ygcb(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getLdbhfy" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Ldbhfy(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getAqsc" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Aqsc(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getRcscjy" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Rcscjy(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYwtz" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Ywtz(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getZctz" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Zctz(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getQtkk" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Qtkk(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getQtkkcf" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Qtkkcf(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getQt" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Qt(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getCompany" statementType="CALLABLE" resultType="net.cmkj.budget.domain.dashboard.Company">
        {call get_company()}
    </select>

    <select id="getCalculateTotalMoney1" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call calculate_total_money1(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getCalculateTotalMoney2" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call calculate_total_money2(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getCalculateActualCost" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call calculate_actual_cost(#{taskId, jdbcType=BIGINT},#{gap, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getCalculateActualCostLastYear" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call actual_cost_lastyear(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYgcbsjfy" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call Ygcbsjfy(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjdtys" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_dtys(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjgdys" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_gdys(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjgz" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_gz(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjldbh" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_ldbh(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjzctz" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_zctz(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjaqsc" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_aqsc(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjywtz" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_ywtz(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjrcsc" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_rcsc(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getYstjqt" statementType="CALLABLE" resultType="YstjResultType">
        {call Ystj_qt(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="actual_cost_by_dept" statementType="CALLABLE" resultType="YstjResultType">
        {call actual_cost_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getfydbsjfy" statementType="CALLABLE" resultType="SjfyResultType">
        {call fydb_sjfy(#{taskId, jdbcType=BIGINT}, #{gap, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

<!--    <select id="fydb_sjfy_by_type" statementType="CALLABLE" resultType="SjfyResultType">-->
<!--        {call fydb_sjfy_by_type(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT}, #{type, jdbcType=BIGINT})}-->
<!--    </select>-->
    <!--获取最后一个任务ID-->
    <select id="getPreviousYearTaskId" statementType="CALLABLE" resultType="java.lang.Long">
        {call GetPreviousYearTaskId(#{taskId, jdbcType=BIGINT}, #{gap, jdbcType=BIGINT})}
    </select>

    <select id="getActualCostByYear" statementType="CALLABLE" resultType="java.math.BigDecimal">
        {call actual_cost_by_year(#{budgetYear, jdbcType=BIGINT}, #{typeCode, jdbcType=BIGINT},
                                  #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="getActualCostByMonth" statementType="CALLABLE" resultType="zdpjefxResultType">
        {call actual_cost_by_month(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT},
                                   #{type, jdbcType=BIGINT})}
    </select>

    <select id="get_wage_statistics_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_wage_statistics_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_Zctz_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Zctz_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_Ywtz_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Ywtz_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_Aqsc_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Aqsc_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_Rcsc_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Rcsc_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_Qtkk_by_dept" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Qtkk_by_dept(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_wage_statistics_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_wage_statistics_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_Zctz_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Zctz_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_Aqsc_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Aqsc_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_Ywtz_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Ywtz_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_Rcsc_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Rcsc_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_Qtkk_by_company" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_Qtkk_by_company(#{taskId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_ygcb_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_ygcb_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_zctz_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_zctz_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_aqsc_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_aqsc_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_ywtz_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_ywtz_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_rcsc_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_rcsc_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_qt_table" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_qt_table(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT})}
    </select>

    <select id="get_actual_cost_quarterly" statementType="CALLABLE" resultType="java.util.LinkedHashMap">
        {call get_actual_cost_quarterly(#{taskId, jdbcType=BIGINT}, #{deptId, jdbcType=BIGINT},
                                   #{type, jdbcType=BIGINT})}
    </select>
    <select id="get_actual_cost_table_detail" resultType="net.cmkj.budget.domain.dashboard.TableDetailVO">
        {call get_actual_cost_table_detail(#{taskId, jdbcType=BIGINT},#{parentId, jdbcType=BIGINT},
                                           #{deptName, jdbcType=VARCHAR},#{subjectName, jdbcType=VARCHAR})}

    </select>

</mapper>